<!DOCTYPE html>
<html lang="fi">
<head>
  <title>JSON Example</title>  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
body {
            background-color: #f88520; 
            font-family: 'Times New Roman', Times, serif

        }
        #container {
            display: flex; 
            flex-direction: column; 
            align-items: center; 
        }

  </style>
  </head>
<body> 
  <div id="container">
    <div id="vastaus">
    </div>
    <button id="switchPageButton">Siirry kurssi.html-sivulle</button>
</body>
<script>
     fetch('https://run.mocky.io/v3/a4949723-49f9-42a7-946e-a3b0fda635d0')
     
     .then(function (response) {
  return response.json();
})


.then(function (responseJson) {
  kerro(responseJson);
})


.catch(function (error) {
  document.getElementById("vastaus").innerHTML =
  "<p>Tietoa ei pystyt채 hakemaan</p>";
})

function kerro(data) {
  const vastausDiv = document.getElementById("vastaus");
  let teksti = vastausDiv.innerHTML;
  console.log(data.kuva); 
  teksti += `
          <h1>${data.toteutuksen_nimi}</h1>
          <p>Osallistujien lukum채채r채: ${data.osallistujien_lukumaara}</p>
          <p>Osallistujien nimet: ${data.osallistujien_nimet.join(', ')}</p>
          <p>Toteutuksen ajankohta: ${data.toteutuksen_aika.alkamisaika} - ${data.toteutuksen_aika.loppumisaika}</p>
          <p>Toteutuksen kesto viikoissa: ${data.toteutuksen_kesto_viikoissa}</p>
          <img src="${data.kuva}" alt="Kuva liittyen opintojaksoon" />
        `;
        vastausDiv.innerHTML = teksti;
      }

      document.getElementById('switchPageButton').onclick = function() {
            if (window.location.href.includes('toteutus.html')) {
                window.location.href = 'kurssi.html';
            } else {
                window.location.href = 'toteutus.html';
            }
        };
</script>