<!DOCTYPE html>
<html lang="fi">
<head>
  <title>JSON Example</title>  
  <meta charset="utf-8">
  <style>
    nav {
        background-color: #333;
        overflow: hidden;
    }
    
    nav a {
        float: left;
        display: block;
        color: white;
        text-align: center;
        padding: 14px 20px;
        text-decoration: none;
    }
    
    nav a:hover {
        background-color: #ddd;
        color: black;
    }
</style>
  </head>
<body> 
    <div id="vastaus">
    </div>
    <button id="switchPageButton">Siirry toteutus.html-sivulle</button>
    <nav>
      <a href="kurssi.html">Kurssi</a>
      <a href="toteutus.html">Toteutus</a>
  </nav>
</body>
<script>
    fetch('https://run.mocky.io/v3/45c8776f-01b4-472f-be51-53fe5c958119')

.then(function (response) {
  return response.json();
})


.then(function (responseJson) {
  kerro(responseJson);
})


.catch(function (error) {
  document.getElementById("vastaus").innerHTML =
  "<p>Tietoa ei pystyt√§ hakemaan</p>";
})

function kerro(data) {
  const vastausDiv = document.getElementById("vastaus");
  let teksti = vastausDiv.innerHTML;
  teksti += `
            <h1>${data.otsikko}</h1>
            <p>${data.kuvaus}</p>
            <img src="${data.kuva}" alt="Kuva liittyen opintojaksoon" />
            <h2>${data.opintojakso.nimi} (${data.opintojakso.tunnus})</h2>
            <p>Opintopisteet: ${data.opintojakso.opintopisteet}</p>
            <ul>
                ${data.opintojakso.sisalto.map(item => `<li>${item}</li>`).join('')}
            </ul>
            <h3>Tekniikat</h3>
            <ul>
                ${data.tekniikat.map(tech => `<li><a href="${tech.linkki}">${tech.aihe}</a></li>`).join('')}
            </ul>
        `;

        vastausDiv.innerHTML = teksti;
      }

      document.getElementById('switchPageButton').onclick = function() {
            if (window.location.href.includes('kurssi.html')) {
                window.location.href = 'toteutus.html';
            } else {
                window.location.href = 'kurssi.html';
            }
        };

</script>